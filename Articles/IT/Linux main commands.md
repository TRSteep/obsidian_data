#debian #nix

# Файлы и каталоги
- cd
	- возвращает в домашний каталог
	- `cd /`
		- переход в другой каталог
- ls
	- Утилита для просмотра содержимого каталогов
	- `ls -l`
		- права файлов
	- `ls -a`
		- скрытые файлы
	- `ls -l -a`
		- вывод всех файлов с правами
- pwd
	- Печатает на экран текущий каталог
	- команда будет востребована в Bash программировании
- du
	- Показывает размер файла или каталога
	- `du -h`
		- легко читаемый формат
	- `du -d`
		- глубину рекурсии по каталогам
- df
	- Анализатор дискового пространства
	- `df -h`
- mkdir
	- Создание новых каталогов
	- `mkdir /tmp/tmp/tmp -p` 
		- позволяет создать всю структуру подкаталогов одной командой
- cp
	- Копирование файлов
	- `cp /tmp/1 /tmp/2 -r`
		- копирование с подкаталогами
- mv
	- Перемещение или переименование файлов и каталогов
		- `mv file newfile`
- dd
	- делает копию одного файла в другой. Вы можете задать точный размер данных, которые нужно записать или скопировать
	- часто используется для создания LiveUSB или гибридных ISO образов
- rm
	- Удаляет файлы и папки
	- `rm /home/user/file`
	- `rm /home/user/file*`
	- `rm -Rf /home/user/dir`
		- удаление директорий
	- Удаление с поиском
		- `find . -type f -name "file" -exec rm -f {} \;`
			- Будут найдены все файлы с именем file в текущей папке и для них вызвана команда rm -f
			- `find . -type f -name "file" -delete` аналогично
		- `find . -regex '\./[a-f0-9\-]\.bak' - delete`
		- `find /path/to/files* -mtime +5 -exec rm {} \;`
			- удалить файлы в папке старше 5-ти дней
- ln
	- Создает жёсткие или символические ссылки
- chmod
	- Изменяет права доступа к файлу
- chown
	- Изменяет владельца файла
	- Только суперпользователь может изменять владельцев
	- `chown -r \tmp\*`
- mount / umount
	- для подключения и отключения файловых систем Linux
	- Можно подключать всё: от USB накопителей, до ISO образов. И только у суперпользователя есть права для этого.

## Просмотр файлов
- file
	- показывает тип файла
- less (more)
	- для просмотра длинных текстов, которые не вмещаются на одном экране
	- Less новее, чем more и поддерживает больше опций
- cat
	- Печатает содержимое файла, Если передать несколько файлов, команда склеит их
	- Также можно перенаправить вывод в ещё один файл с помощью символа '>'
	- можно вывести определенное количество строк
		- `cat -n`
- head
	- выводит несколько первых строк из файла (голова)
	- По умолчанию каждая утилита выводит десять строк
- tail
	- выдает несколько последних строк (хвост)
	- По умолчанию каждая утилита выводит десять строк
- grep
	- ищет текст по шаблону
- zcat
- zgrep
- zmore
- sort
	- Сортировка строк текста по различным критериям
	- `sort -n`
		- по числовому значению
	- `sort -r`
		- переворачивает вывод поиска
- diff
	- Показывает различия между двумя файлами в построчном сравнении
	- выводятся только строки, в которых обнаружены отличия
- wc
	- Утилита командной строки Linux для подсчёта количества слов, строк, байт и символов
	- https://losst.pro/komanda-wc-v-linux
	- `wc file`
	- `wc FILE -w` - слов
	- `wc FILE -l` - строк
	- `wc FILE -m` - символов
- nano - редактор

# Сеть
- ip
	- `ip a`
- nethogs
	- показывает сколько трафика использует какая-либо программа в Linux или какая программа потребляет всю скорость

# Управление процессами
- kill / xkill / pkill / killall
	- Служат для завершения процессов
	- Kill нужен PID процесса
	- killall и pkill принимают имя процесса
- ps / pgrep
	- поиск идентификатора для убивания процесса. Один из способов получить его, это утилита ps, которая печатает информацию о запущенных процессах
- htop (top)
	- отображают процессы и могут быть использованы как консольные системные мониторы
	- htop улучшенная версия top

# Поиск файлов
- Поиск по имени
	- `find / -iname "*NAME*" 2>/dev/null`
	- `find / -name "*.conf"`
		- по расширению
	- `find . -name "NAME.conf"`
		- в текущей папке, точное имя
	- Только файлы
		- `find / -type f -iname "*NAME*"`
	- Только каталоги
		- `find / -type d -iname "*NAME*"`
- Поиск по размеру
	- `find / -size +50M`
		- больше 50Мб,
	- `find / -size +1M`
		- меньше 1Мб
	- `find / -size +50M size -2G`
		- между 50мб и 2гб
- Поиск по автору файла
	- `find / -user USER -iname"*NAME*"`
	- `find / -group USERS -iname"*NAME*"`
- Поиск по разрешениям
	- `find / -perm 777 -iname"*NAME*"`
- Поиск и замена прав
	- `find . -type f -perm 777 -exec chmod 755 {} \;`
- Поиск по дате изменения
	- Mtime – время последнего изменения файла в днях
		- `find / -type f -mtime -3`
			- изменения за последние трое суток (3x24ч)
		- mmin - последние мин
			- `find / -type f -mmin +20 -name "*.java"`
	- Ctime – время создания файла
		- `find / -type f -ctime +5`
			- созданные пять и более дней назад
		- cmin - за последние мин
	- Atime – время последнего доступа к файлу
		- amin - за последние мин
- Утилита Locate
	- В отличие от find, команда locate ведёт поиск в базе данных updatedb для шаблонов имён файлов. Эта база данных содержит снимок файловой системы, что позволяет искать очень быстро
	- `sudo apt-get install mlocate`
	- `locate -i "*.jpg"`
	- `locate -n 20 -i "*.jpg"`
- Поиск текста в файлах
	- `grep -r -i "TEXT" /PATH`
		- -r делает поиск рекурсивным
		- -i указывает на то, что запрос не учитывает регистр
	- Вывод только самих файлов, где содержится
		- `grep -r -i "TEXT" /PATH | cut -d: -f1`
	- скрыть сообщение об ошибках
		- `grep -r -i "TEXT" /PATH 2>/dev/null`

# Команды Linux окружения пользователя

- su / sudo
	- запустить программу от имени другого пользователя
	- su переключает вас на другого пользователя, а sudo только выполняет команду от его имени
- date
	- В отличие от time, делает именно то, чего вы от неё и ожидаете: выводит дату и время в стандартный вывод
- alias
	- Команда создаёт синонимы для других команд Linux
- uname
	- Выводит некую основную информацию о системе
	- `uname -a`
		- получить информацию о ядре, имени хоста и узнать архитектуру процессора
-  uptime
	- Сообщает вам время работы системы
-  sleep
	- выключить компьютер через определенный промежуток времени или использовать в качестве импровизированной тревоги

# Команды Linux для управления пользователями
- useradd / userdel / usermod
	- добавлять, удалять и изменять учетные записи пользователей
- passwd
	- позволяет изменить пароль учетной записи пользователя

# Linux команды для просмотра документации
-  man / whatis
	- открывает руководство по определённой команде
- whereis
	- Показывает полный путь к исполняемому файлу программы