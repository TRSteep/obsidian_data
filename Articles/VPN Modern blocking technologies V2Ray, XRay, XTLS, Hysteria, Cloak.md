#vpn #v2ray 
https://habr.com/ru/articles/727868/

- Максимально простое и универсальное решение
	- XRay в варианте VLESS-over-Websockets с fallback’ом на какой-нибудь безобидный веб-сайт
		- https://github.com/XTLS/Xray-examples/blob/main/VLESS-TCP-TLS-WS%20(recommended)/README.ENG.md
	- Со стороны клиентов обязательно выбрать опцию uTLS, и желательно добавить настройку чтобы ресурсы в зоне .ru и с российскими IP открывались без прокси
- Если вы готовы к подвигам и экспериментам
	- XRay с VLESS+XTLS-Vision, добавить fallback на VLESS+Websockets для старых клиентов и CDN разных видов
	- поднять еще mKCP/Hysteria, Shadowsocks-2022 и классический SSH-туннель.
	- И на будущее присмотреться к XTLS-Reality
		- https://github.com/chika0801/Xray-examples


## Все вариации VPN
- PPTP
	- Point to Point Tunneling Protocol
	- Детектится, работает через раз
- OpenVPN
	- не работает
- Wireguard
	- Детектится, работает через раз
- L2TP/IPSec (IKEv2/IPSec)
	- L2TP
		- Layer 2 Tunneling Protocol /IPsec with a certificate or a Pre-shared key
		- Использует IPSec для шифрования
		- Использует UDP-порт 1701
	- IKEv2
		- Internet Key Exchange
		- Шифрует трафик AES
		- Использует UDP-порт 500
	- Детектится, работает через раз
- SoftEther VPN
	- Детектится
- SSTP
	- Secure Socket Tunneling Protocol
	- Детектится, но работает
- туннель-через-SSH
	- Детектится
- Shadowsocks
	- классический SOCKS-протокол
	- Shadowsocks-AEAD
		- с измененным алгоритмом аутентификации
	- Shadowsocks-2022 
	- Cloak - это не прокси-протокол, а только транспорт, то есть он делае подключение "точка-точка" (между вашим устройством и сервером), а внутри него уже можете гонять тот же Shadowsocks, или OpenVPN, или что угодно
	- Meiru - аналог Shadowsocks / VMess+TCP, просто зашифрованный поток данных с паддингом поверх TCP или UDP.
	- Расширения для маскировки
		- Shadow-TLS
		- Websockets
		- V2Ray
		- **V2Fly** - форк V2Ray
		- **XRay** - форк V2Fly
			- использует маскировку XTLS
				- Шифрует шататным TLS, что м
				- ешает детекту
			- Протоколы
				- **VMess**
					- Поддерживат определение свой/чужой по ID пользователя и опционально шифрование данных
					- Старый, но вариант VMess-over-Websockets-over-TLS - работает
				- **VLess**
					- Улучшенный VMess
					- Поддерживает проверку “свой/чужой” и паддинг данных
					-  протоколе исправлен ряд уязвимостей старого VMess
					- XUDP и Packet - расширения VLESS для более эффективной передчи UDP-пакетов и реализации Full Cone NAT
				- VLite
					- поддерживает только передачу UDP-пакетов
				- Shadowsocks (в том числе версий AEAD и 2022)
				- Протоколы V2Ray/XRay работают поверх mKCP, gRPC, Websockets
					- Websockets Позволяет легко поставить V2Ray/XRay не перед, а за Nginx/Caddy/любым другим веб сервером
					- Позволяет пролезать через строгие корпоративные фаерволы
					- не зная URI невозможно достучаться до прокси-сервера
					- позволяет работать через CDN (upd.: gRPC тоже позволяет)
						- [Cloudflare](https://developers.cloudflare.com/support/network/using-cloudflare-with-websockets/) и [GCore](https://gcore.com/), разрешают проксирование веб-сокетов даже на бесплатных тарифах
						- это может быть хорошим подспорьем - если по какой-то причине IP-адрес вашего сервера попал в бан, вы все равно можете подключиться к нему через CDN, а полный бан всей CDN гораздо менее вероятен, чем какого-то одного VPS
					-  умеет проксировать IPv4 запросы на IPv6 адрес
					- Недостатком транспорта через веб-сокеты является более долгий хендшейк (установление каждого соединения) чем напрямую через TLS
					- мультиплексирование соединений (mux или mux.cool)
						- каждое новое подключение к какому-либо сайту не будет устанавливаться новое подключение к прокси, а будут переиспользованы существующие
						- 
				- Trojan работает поверх TLS (точно так же как HTTPS)
				- Naiveproxy, опять же, простая до невозможности. Если наша цель - замаскировать трафик от прокси-клиента так, чтобы он был вообще ничем неотличим от трафика от обычного браузера - почему бы не использовать для этого сам браузер
		- SagerNet
		- Sing-box
- PingTunnel - как следует из названия, позволяет проксировать TCP и UDP с помощью обычных ICMP-пингов. Звучит многообещающе

---
![[how-to-choose-a-v2ray-plan.png]]