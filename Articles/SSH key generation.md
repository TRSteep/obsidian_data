#SSH #windows #linux 
Генерация SSH ключа
# **Windows**
## Putty
http://www.chiark.greenend.org.uk/%7Esgtatham/putty/download.html
### Info
- https://comp-security.net/%D0%BA%D0%B0%D0%BA-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D1%8C%D1%81%D1%8F-putty/
- OpenKey
	- Открытый, или публичный, ключ доступен всем. Замок на двери, за которой находится важная информация. Без второго SSH-ключа он не имеет смысла.
	- Он используется для шифрования данных при обращении к серверу. Проще говоря, это набор символов, при помощи которых мы шифруем информацию.
- PrivateKey
	- Закрытый, или приватный, SSH-ключ — это ключ к замку
	- Он расшифровывает данные. С ним нужно быть в разы осторожнее: хранить, соблюдая правила безопасности, и не передавать вторым лицам. 
	- Забегая вперед, скажем, что при генерации SSH-ключей закрытый ключ можно и нужно запаролить, чтобы обеспечить дополнительную защиту.
### Generate
- запустить PuTTYgen
- выбрать алгоритм ключа
	- **RSA** - очень старый алгоритм (SSH-2 RSA)
	- SSH-1 (RSA) - вариация алгоритма RSA под протокол SSH-1
	- Алгоритмы для подписи
		- DSA - криптографический алгоритм с открытым ключом
		- ECDSA - модификацией алгоритма DSA
		- ED25519 - с использованием криптографического алгоритма SHA-512 и эллиптической кривой Curve25519
- Приватный ключ можно защитить паролем
- Нажать кнопку «Generate»
	- Для ускорения генерации необходимо хаотично передвигать курсор мыши.
- Сохранение публичного ключа
	- ![[3--1-.png|300]]
	- Для Mremote NG  нужно генерировать 2 версию PPK, иначе не подключится
		- ![|300](IAJrl.png)
		- или скопировать новую версию putty в mremote-ng и переименовать в PuTTYNG.EXE
	- `mkdir ~/.ssh`
		- `cd /home/your_home/.ssh/`
		- с помощью WinSCP отредактировать или залить файл authorized_keys
		- `nano ~/.ssh/authorized_keys`
			- вставить публичный ключ в одну строку
				- `ssh-rsa ******* rsa-key-20231003`
			- сохранить файл
- Сохранение приватного ключа
	- ![[4.png|300]]
- Добавление приватного ключа в PuTTY
	- Session
		- Добавить HostName и SSH
	- Connection -> SSH -> Auth
		- Путь к секретному файлу с SSH ключом
		- ![[6.png|300]]
	- После подключения ввести логин и пароль для ключа
- Подключение с помощью mRemote-NG 
	- Ввести hostname или IP + port
	- Ввести username
	- указать сессию в putty
		- если для ключа есть пароль, указать его, а не пароль пользователя
	- ![|300](AWS_Picture24.png)

# Linux
- `ssh-keygen -b 4096`
	- По умолчанию создается по пути
		- `~/.ssh/id_rsa`
- Секретный ключ
	- `cat ~/.ssh/id_rsa.pub`
- Публичный ключ
	- `cd ~/.ssh`
		- Если папки нет, создаем
			- `mkdir -p ~/.ssh`
	- `nano ~/.ssh/authorized_keys`
		- Добавляем публичный ключ